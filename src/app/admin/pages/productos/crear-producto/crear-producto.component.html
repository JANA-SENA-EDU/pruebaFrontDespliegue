<div class="crear-producto-container">
  <h2>{{ esEdicion ? 'Editar Producto' : 'Registrar Producto' }}</h2>

  <form (ngSubmit)="guardarProducto()">
    <!-- Campos del formulario -->
    <div class="form-group">
      <label>Nombre</label>
      <input type="text" [(ngModel)]="producto.nombre" name="nombre" required />
    </div>

    <div class="form-group">
      <label>Descripción</label>
      <textarea [(ngModel)]="producto.descripcion" name="descripcion" required></textarea>
    </div>

    <div class="form-group">
      <label>Dimensiones</label>
      <input type="text" [(ngModel)]="producto.dimensiones" name="dimensiones" required />
    </div>

    <div class="form-group">
      <label>Categoría</label>
      <select [(ngModel)]="producto.idCategoria" name="categoria" required>
        <option *ngFor="let c of categorias" [value]="c.idCategoria">{{ c.nombreCategoria }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Estado del producto</label>
      <select [(ngModel)]="producto.idEstadoProducto" name="estado" required>
        <option *ngFor="let e of estadosProducto" [value]="e.idEstadoProducto">{{ e.nombreEstado }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Colores disponibles</label>
      <div class="color-opciones">
        <label *ngFor="let color of colores">
          <input
            type="checkbox"
            [value]="color.idColor"
            [checked]="estaSeleccionadoColor(color.idColor)"
            (change)="toggleColor(color.idColor, $event)"
          />
          <span class="color-circulo" [style.backgroundColor]="color.codigoColor"></span>
        </label>
      </div>
    </div>

    <div class="form-group">
      <label>Imágenes del producto (URLs)</label>
      <div *ngFor="let img of imagenes; let i = index" class="imagen-url">
        <input type="text" [(ngModel)]="imagenes[i]" name="imagen{{i}}" placeholder="https://..." />
        <button type="button" (click)="eliminarImagen(i)">X</button>
      </div>
      <button type="button" class="btn-secundario" (click)="agregarImagen()">+ Agregar imagen</button>
    </div>

    <!-- Botones en la misma fila -->
    <div class="form-buttons">
      <button type="submit" class="btn-primario">Guardar</button>
      <button type="button" class="btn-cancelar" (click)="cancelar()">Cancelar</button>
    </div>
  </form>
</div>
